'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var url = require('url');
var resolveCore = require('resolve');
var caller = require('caller');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var resolveCore__default = /*#__PURE__*/_interopDefaultLegacy(resolveCore);
var caller__default = /*#__PURE__*/_interopDefaultLegacy(caller);

// 这个要给低版本Node用，不能写`node:url`
const resolveSync = id => {
  const callerUrl = caller__default["default"]();
  const callerPath = callerUrl.startsWith('file://') ? url.fileURLToPath(callerUrl) : callerUrl;
  return resolveCore__default["default"].sync(id, {
    basedir: callerPath
  });
};

exports.resolveSync = resolveSync;
