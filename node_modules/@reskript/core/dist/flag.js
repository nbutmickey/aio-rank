import logger from './logger.js';
const ALL_FLAGS = [
    'deprecation-error',
];
const flags = (() => {
    var _a;
    const env = (_a = process.env.SKR_FLAGS) !== null && _a !== void 0 ? _a : '';
    const flags = env.split(',').map(v => v.trim()).filter(v => !!v);
    const unknownFlags = flags.filter(v => v !== 'all' && !ALL_FLAGS.includes(v));
    if (unknownFlags.length) {
        logger.error(`Unknown flags: ${unknownFlags.join(', ')}`);
        process.exit(21);
    }
    return flags;
})();
export const isFlagEnabled = (name) => flags.includes('all') || flags.includes(name);
export const isInDebugMode = () => process.env.SKR_LOGGING === 'debug';
