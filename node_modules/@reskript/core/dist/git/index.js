import { uniq } from 'ramda';
import status from 'g-status';
import { filterChanged, filterStaged, filterStagedOnly, extractName } from './utils.js';
export const gitStatus = async (cwd) => {
    try {
        const items = await status({ cwd });
        return {
            modified: uniq(filterChanged(items).map(extractName)),
            staged: uniq(filterStaged(items).map(extractName)),
            stagedOnly: uniq(filterStagedOnly(items).map(extractName)),
        };
    }
    catch (_a) {
        return {
            modified: [],
            staged: [],
            stagedOnly: [],
        };
    }
};
