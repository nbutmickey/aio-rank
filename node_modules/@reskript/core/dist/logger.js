import * as kolorist from 'kolorist';
import dedentString from 'dedent';
import { isInDebugMode } from './flag.js';
const createLogWith = (level, defaultColor) => {
    // eslint-disable-next-line no-console
    const log = console[level];
    const withColor = (color = defaultColor) => (message, options = {}) => {
        const { dedent = true } = options;
        const dedented = dedent ? dedentString(message) : message;
        const colorized = color ? kolorist[color](dedented) : dedented;
        log(colorized);
    };
    const logBase = withColor();
    return Object.assign(logBase, {
        red: withColor('red'),
        yellow: withColor('yellow'),
        green: withColor('green'),
        white: withColor('white'),
    });
};
export default {
    log: createLogWith('log'),
    warn: createLogWith('warn', 'yellow'),
    error: createLogWith('error', 'red'),
    infoHighlight: (message) => {
        // eslint-disable-next-line no-console
        console.log(`${kolorist.bgBlue(kolorist.white(' I '))} ${message}`);
    },
    debug: (message) => {
        if (isInDebugMode()) {
            // eslint-disable-next-line no-console
            console.log(message);
        }
    },
    // eslint-disable-next-line no-console
    lineBreak: () => console.log(''),
};
